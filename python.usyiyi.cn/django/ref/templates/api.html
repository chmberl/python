<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>The Django template language: for Python programmers — Django 1.8.2 中文文档</title>
<link href="../../_static/default.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.8.2.dev20150513143415',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<link href="../../index.html" rel="top" title="Django 1.8.2.dev20150513143415 documentation"/>
<link href="index.html" rel="up" title="Templates"/>
<link href="upgrading.html" rel="next" title="Upgrading templates to Django 1.8"/>
<link href="builtins.html" rel="prev" title="Built-in template tags and filters"/>
<script src="http://python.usyiyi.cn/django/templatebuiltins.js" type="text/javascript"></script>
<script type="text/javascript">
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='http://python.usyiyi.cn/django/ref/templates/&quot;&#32;+&#32;base&#32;+&#32;&quot;#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='http://python.usyiyi.cn/django/ref/templates/&quot;&#32;+&#32;base&#32;+&#32;&quot;#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);
</script>
</head>
<body>
<div class="document">
<div class="yui-t6" id="custom-doc">
<div id="hd">
<h1><font id="232">Django 1.8.2.dev20150513143415 documentation</font></h1>
<div id="global-nav">
<a href="../../index.html" title="Home page">Home</a>  |
        <a href="../../contents.html" title="Table of contents">Table of contents</a>  |
        <a href="../../genindex.html" title="Global index">Index</a>  |
        <a href="../../py-modindex.html" title="Module index">Modules</a>
</div>
<div class="nav">
    « <a href="builtins.html" title="Built-in template tags and filters">previous</a>
     |
    <a accesskey="U" href="../index.html" title="API Reference">up</a>
   |
    <a href="upgrading.html" title="Upgrading templates to Django 1.8">next</a> »</div>
</div>
<div id="bd">
<div id="yui-main">
<div class="yui-b">
<div class="yui-g" id="ref-templates-api">
<div class="section" id="s-the-django-template-language-for-python-programmers">
<span id="the-django-template-language-for-python-programmers"></span><h1><font id="233">Django模板语言:面向Python程序员</font><a class="headerlink" href="api.html#the-django-template-language-for-python-programmers" title="Permalink to this headline">¶</a></h1>
<p><font id="1">.本文从技术的角度解释了Django模板系统-它如何工作和如何继承他。</font><font id="2">If you’re just looking for reference on the language syntax, see <a class="reference internal" href="language.html"><em>The Django template language</em></a>.</font></p>
<p><font id="3">假设你已经理解了templates, contexts, variables, tags, 和rendering. </font><font id="4">如果你不熟悉这些概念，从阅读 <a class="reference internal" href="../../topics/templates.html#template-language-intro"><em>introduction to the Django template language</em></a> 起步吧。</font></p>
<div class="section" id="s-overview">
<span id="overview"></span><h2><font id="234">概述</font><a class="headerlink" href="api.html#overview" title="Permalink to this headline">¶</a></h2>
<p><font id="5">在Python中使用模板系统有三个步骤：</font></p>
<ol class="arabic simple">
<li><font id="266">You configure an <a class="reference internal" href="api.html#django.template.Engine" title="django.template.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a>.</font></li>
<li><font id="267">You compile template code into a <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a>.</font></li>
<li><font id="268">You render the template with a <a class="reference internal" href="api.html#django.template.Context" title="django.template.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a>.</font></li>
</ol>
<p><font id="6">Django projects generally rely on the <a class="reference internal" href="../../topics/templates.html#template-engines"><em>high level, backend agnostic APIs</em></a> for each of these steps instead of the template system’s lower level APIs:</font></p>
<ol class="arabic simple">
<li><font id="269">For each <a class="reference internal" href="../../topics/templates.html#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><tt class="xref py py-class docutils literal"><span class="pre">DjangoTemplates</span></tt></a> backend in the <a class="reference internal" href="../settings.html#std:setting-TEMPLATES"><tt class="xref std std-setting docutils literal"><span class="pre">TEMPLATES</span></tt></a> setting, Django instantiates an <a class="reference internal" href="api.html#django.template.Engine" title="django.template.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a>. </font><font id="270"><a class="reference internal" href="../../topics/templates.html#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><tt class="xref py py-class docutils literal"><span class="pre">DjangoTemplates</span></tt></a> wraps <a class="reference internal" href="api.html#django.template.Engine" title="django.template.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a> and adapts it to the common template backend API.</font></li>
<li><font id="271">The <a class="reference internal" href="../../topics/templates.html#module-django.template.loader" title="django.template.loader"><tt class="xref py py-mod docutils literal"><span class="pre">django.template.loader</span></tt></a> module provides functions such as <a class="reference internal" href="../../topics/templates.html#django.template.loader.get_template" title="django.template.loader.get_template"><tt class="xref py py-func docutils literal"><span class="pre">get_template()</span></tt></a> for loading templates. </font><font id="272">They return a <tt class="docutils literal"><span class="pre">django.template.backends.django.Template</span></tt> which wraps the actual <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">django.template.Template</span></tt></a>.</font></li>
<li><font id="273">The <tt class="docutils literal"><span class="pre">Template</span></tt> obtained in the previous step has a <a class="reference internal" href="../../topics/templates.html#django.template.backends.base.Template.render" title="django.template.backends.base.Template.render"><tt class="xref py py-meth docutils literal"><span class="pre">render()</span></tt></a> method which marshals a context and possibly a request into a <a class="reference internal" href="api.html#django.template.Context" title="django.template.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> and delegates the rendering to the underlying <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a>.</font></li>
</ol>
</div>
<div class="section" id="s-configuring-an-engine">
<span id="configuring-an-engine"></span><h2><font id="235">Configuring an engine</font><a class="headerlink" href="api.html#configuring-an-engine" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="django.template.Engine">
<em class="property">class </em><tt class="descname">Engine</tt>(<em>[dirs][, app_dirs][, allowed_include_roots][, context_processors][, debug][, loaders][, string_if_invalid][, file_charset]</em>)<a class="headerlink" href="api.html#django.template.Engine" title="Permalink to this definition">¶</a></dt>
<dd><div class="versionadded">
<span class="title">New in Django 1.8.</span> </div>
<p><font id="7">When instantiating an <tt class="docutils literal"><span class="pre">Engine</span></tt> all arguments must be passed as keyword arguments:</font></p>
<ul>
<li><p class="first"><font id="8"><tt class="docutils literal"><span class="pre">dirs</span></tt> is a list of directories where the engine should look for template source files. </font><font id="9">It is used to configure <a class="reference internal" href="api.html#django.template.loaders.filesystem.Loader" title="django.template.loaders.filesystem.Loader"><tt class="xref py py-class docutils literal"><span class="pre">filesystem.</span></tt></a></font><font id="10">Loader.</font></p>
<p><font id="11">It defaults to an empty list.</font></p>
</li>
<li><p class="first"><font id="12"><tt class="docutils literal"><span class="pre">app_dirs</span></tt> only affects the default value of <tt class="docutils literal"><span class="pre">loaders</span></tt>. </font><font id="13">See below.</font></p>
<p><font id="14">It defaults to <tt class="docutils literal"><span class="pre">False</span></tt>.</font></p>
</li>
<li><p class="first"><font id="15"><tt class="docutils literal"><span class="pre">allowed_include_roots</span></tt> is a list of strings representing allowed prefixes for the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">ssi</span> <span class="pre">%}</span></tt> template tag. </font><font id="16">This is a security measure, so that template authors can’t access files that they shouldn’t be accessing.</font></p>
<p><font id="17">For example, if <tt class="docutils literal"><span class="pre">'allowed_include_roots'</span></tt> is <tt class="docutils literal"><span class="pre">['/home/html',</span> <span class="pre">'/var/www']</span></tt>, then <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">ssi</span> <span class="pre">/home/html/foo.txt</span> <span class="pre">%}</span></tt> would work, but <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">ssi</span> <span class="pre">/etc/passwd</span> <span class="pre">%}</span></tt> wouldn’t.</font></p>
<p><font id="18">It defaults to an empty list.</font></p>
<div class="deprecated">
<p><font id="19"><span class="versionmodified">Deprecated since version 1.8: </span></font><font id="20"><tt class="docutils literal"><span class="pre">allowed_include_roots</span></tt> is deprecated.</font></p>
</div>
</li>
<li><p class="first"><font id="21"><tt class="docutils literal"><span class="pre">context_processors</span></tt> is a list of dotted Python paths to callables that are used to populate the context when a template is rendered with a request. </font><font id="22">These callables take a request object as their argument and return a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.4)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a> of items to be merged into the context.</font></p>
<p><font id="23">It defaults to an empty list.</font></p>
<p><font id="24">See <a class="reference internal" href="api.html#django.template.RequestContext" title="django.template.RequestContext"><tt class="xref py py-class docutils literal"><span class="pre">RequestContext</span></tt></a> for more information.</font></p>
</li>
<li><p class="first"><font id="25"><tt class="docutils literal"><span class="pre">debug</span></tt> is a boolean that turns on/off template debug mode. </font><font id="26">If it is <tt class="docutils literal"><span class="pre">True</span></tt>, the template engine will store additional debug information which can be used to display a detailed report for any exception raised during template rendering.</font></p>
<p><font id="27">It defaults to <tt class="docutils literal"><span class="pre">False</span></tt>.</font></p>
</li>
<li><p class="first"><font id="28"><tt class="docutils literal"><span class="pre">loaders</span></tt> is a list of template loader classes, specified as strings. </font><font id="29">Each <tt class="docutils literal"><span class="pre">Loader</span></tt> class knows how to import templates from a particular source. </font><font id="30">Optionally, a tuple can be used instead of a string. </font><font id="31">The first item in the tuple should be the <tt class="docutils literal"><span class="pre">Loader</span></tt> class name, subsequent items are passed to the <tt class="docutils literal"><span class="pre">Loader</span></tt> during initialization.</font></p>
<p><font id="32">It defaults to a list containing:</font></p>
<ul class="simple">
<li><font id="274"><tt class="docutils literal"><span class="pre">'django.template.loaders.filesystem.Loader'</span></tt></font></li>
<li><font id="275"><tt class="docutils literal"><span class="pre">'django.template.loaders.app_directories.</span></tt></font><font id="276">Loader' if and only if <tt class="docutils literal"><span class="pre">app_dirs</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>.</font></li>
</ul>
<p><font id="33">See <a class="reference internal" href="api.html#template-loaders"><em>Loader types</em></a> for details.</font></p>
</li>
<li><p class="first"><font id="34"><tt class="docutils literal"><span class="pre">string_if_invalid</span></tt> is the output, as a string, that the template system should use for invalid (e.g. misspelled) variables.</font></p>
<p><font id="35">It defaults to the empty string.</font></p>
<p><font id="36">See <a class="reference internal" href="api.html#invalid-template-variables"><em>How invalid variables are handled</em></a> for details.</font></p>
</li>
<li><p class="first"><font id="37"><tt class="docutils literal"><span class="pre">file_charset</span></tt> is the charset used to read template files on disk.</font></p>
<p><font id="38">It defaults to <tt class="docutils literal"><span class="pre">'utf-8'</span></tt>.</font></p>
</li>
</ul>
</dd></dl>
<dl class="staticmethod">
<dt id="django.template.Engine.get_default">
<em class="property">static </em><tt class="descclassname">Engine.</tt><tt class="descname">get_default</tt>()<a class="headerlink" href="api.html#django.template.Engine.get_default" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="39">When a Django project configures one and only one <a class="reference internal" href="../../topics/templates.html#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><tt class="xref py py-class docutils literal"><span class="pre">DjangoTemplates</span></tt></a> engine, this method returns the underlying <a class="reference internal" href="api.html#django.template.Engine" title="django.template.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a>. </font><font id="40">In other circumstances it will raise <a class="reference internal" href="../exceptions.html#django.core.exceptions.ImproperlyConfigured" title="django.core.exceptions.ImproperlyConfigured"><tt class="xref py py-exc docutils literal"><span class="pre">ImproperlyConfigured</span></tt></a>.</font></p>
<p><font id="41">It’s required for preserving APIs that rely on a globally available, implicitly configured engine. </font><font id="42">Any other use is strongly discouraged.</font></p>
</dd></dl>
<dl class="method">
<dt id="django.template.Engine.from_string">
<tt class="descclassname">Engine.</tt><tt class="descname">from_string</tt>(<em>template_code</em>)<a class="headerlink" href="api.html#django.template.Engine.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="43">Compiles the given template code and returns a <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> object.</font></p>
</dd></dl>
<dl class="method">
<dt id="django.template.Engine.get_template">
<tt class="descclassname">Engine.</tt><tt class="descname">get_template</tt>(<em>template_name</em>)<a class="headerlink" href="api.html#django.template.Engine.get_template" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="44">Loads a template with the given name, compiles it and returns a <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> object.</font></p>
</dd></dl>
<dl class="method">
<dt id="django.template.Engine.select_template">
<tt class="descclassname">Engine.</tt><tt class="descname">select_template</tt>(<em>self</em>, <em>template_name_list</em>)<a class="headerlink" href="api.html#django.template.Engine.select_template" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="45">Like <a class="reference internal" href="api.html#django.template.Engine.get_template" title="django.template.Engine.get_template"><tt class="xref py py-meth docutils literal"><span class="pre">get_template()</span></tt></a>, except it takes a list of names and returns the first template that was found.</font></p>
</dd></dl>
</div>
<div class="section" id="s-loading-a-template">
<span id="loading-a-template"></span><h2><font id="236">Loading a template</font><a class="headerlink" href="api.html#loading-a-template" title="Permalink to this headline">¶</a></h2>
<p><font id="46">The recommended way to create a <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> is by calling the factory methods of the <a class="reference internal" href="api.html#django.template.Engine" title="django.template.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a>: <a class="reference internal" href="api.html#django.template.Engine.get_template" title="django.template.Engine.get_template"><tt class="xref py py-meth docutils literal"><span class="pre">get_template()</span></tt></a>, <a class="reference internal" href="api.html#django.template.Engine.select_template" title="django.template.Engine.select_template"><tt class="xref py py-meth docutils literal"><span class="pre">select_template()</span></tt></a> and <a class="reference internal" href="api.html#django.template.Engine.from_string" title="django.template.Engine.from_string"><tt class="xref py py-meth docutils literal"><span class="pre">from_string()</span></tt></a>.</font></p>
<p><font id="47">In a Django project where the <a class="reference internal" href="../settings.html#std:setting-TEMPLATES"><tt class="xref std std-setting docutils literal"><span class="pre">TEMPLATES</span></tt></a> setting defines exactly one <a class="reference internal" href="../../topics/templates.html#django.template.backends.django.DjangoTemplates" title="django.template.backends.django.DjangoTemplates"><tt class="xref py py-class docutils literal"><span class="pre">DjangoTemplates</span></tt></a> engine, it’s possible to instantiate a <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> directly.</font></p>
<dl class="class">
<dt id="django.template.Template">
<em class="property">class </em><tt class="descname">Template</tt><a class="headerlink" href="api.html#django.template.Template" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="48">This class lives at <tt class="docutils literal"><span class="pre">django.template.Template</span></tt>. </font><font id="49">The constructor takes one argument — the raw template code:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">Template</span>

<span class="n">template</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">"My name is {{ my_name }}."</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>
<div class="admonition-behind-the-scenes admonition">
<p class="first admonition-title"><font id="50">Behind the scenes</font></p>
<p><font id="51">The system only parses your raw template code once – when you create the <tt class="docutils literal"><span class="pre">Template</span></tt> object. </font><font id="52">From then on, it’s stored internally as a tree structure for performance.</font></p>
<p class="last"><font id="53">Even the parsing itself is quite fast. </font><font id="54">Most of the parsing happens via a single call to a single, short, regular expression.</font></p>
</div>
</div>
<div class="section" id="s-rendering-a-context">
<span id="rendering-a-context"></span><h2><font id="237">Rendering a context</font><a class="headerlink" href="api.html#rendering-a-context" title="Permalink to this headline">¶</a></h2>
<p><font id="55">Once you have a compiled <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> object, you can render a context with it. </font><font id="56">You can reuse the same template to render it several times with different contexts.</font></p>
<dl class="class">
<dt id="django.template.Context">
<em class="property">class </em><tt class="descname">Context</tt>(<em>[dict_][, current_app]</em>)<a class="headerlink" href="api.html#django.template.Context" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="57">This class lives at <tt class="docutils literal"><span class="pre">django.template.Context</span></tt>. </font><font id="58">The constructor takes two optional arguments:</font></p>
<ul>
<li><p class="first"><font id="59">A dictionary mapping variable names to variable values.</font></p>
</li>
<li><p class="first"><font id="60">The name of the current application. </font><font id="61">This application name is used to help <a class="reference internal" href="../../topics/http/urls.html#topics-http-reversing-url-namespaces"><em>resolve namespaced URLs</em></a>. </font><font id="62">If you’re not using namespaced URLs, you can ignore this argument.</font></p>
<div class="deprecated">
<p><font id="63"><span class="versionmodified">Deprecated since version 1.8: </span></font><font id="64">The <tt class="docutils literal"><span class="pre">current_app</span></tt> argument is deprecated. </font><font id="65">If you need it, you must now use a <a class="reference internal" href="api.html#django.template.RequestContext" title="django.template.RequestContext"><tt class="xref py py-class docutils literal"><span class="pre">RequestContext</span></tt></a> instead of a <a class="reference internal" href="api.html#django.template.Context" title="django.template.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a>.</font></p>
</div>
</li>
</ul>
<p><font id="66">For details, see <a class="reference internal" href="api.html#playing-with-context"><em>Playing with Context objects</em></a> below.</font></p>
</dd></dl>
<dl class="method">
<dt id="django.template.Template.render">
<tt class="descclassname">Template.</tt><tt class="descname">render</tt>(<em>context</em>)<a class="headerlink" href="api.html#django.template.Template.render" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="67">Call the <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> object’s <tt class="docutils literal"><span class="pre">render()</span></tt> method with a <a class="reference internal" href="api.html#django.template.Context" title="django.template.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> to “fill” the template:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">Context</span><span class="p">,</span> <span class="n">Template</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">"My name is {{ my_name }}."</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">context</span> <span class="o">=</span> <span class="n">Context</span><span class="p">({</span><span class="s">"my_name"</span><span class="p">:</span> <span class="s">"Adrian"</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
<span class="go">"My name is Adrian."</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">context</span> <span class="o">=</span> <span class="n">Context</span><span class="p">({</span><span class="s">"my_name"</span><span class="p">:</span> <span class="s">"Dolores"</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">context</span><span class="p">)</span>
<span class="go">"My name is Dolores."</span>
</pre></div>
</div>
</dd></dl>
<div class="section" id="s-variables-and-lookups">
<span id="variables-and-lookups"></span><h3><font id="241">Variables and lookups</font><a class="headerlink" href="api.html#variables-and-lookups" title="Permalink to this headline">¶</a></h3>
<p><font id="68">Variable names must consist of any letter (A-Z), any digit (0-9), an underscore (but they must not start with an underscore) or a dot.</font></p>
<p><font id="69">Dots have a special meaning in template rendering. </font><font id="70">A dot in a variable name signifies a <strong>lookup</strong>. </font><font id="71">Specifically, when the template system encounters a dot in a variable name, it tries the following lookups, in this order:</font></p>
<ul class="simple">
<li><font id="277">Dictionary lookup. Example: <tt class="docutils literal"><span class="pre">foo["bar"]</span></tt></font></li>
<li><font id="278">Attribute lookup. </font><font id="279">Example: <tt class="docutils literal"><span class="pre">foo.bar</span></tt></font></li>
<li><font id="280">List-index lookup. </font><font id="281">Example: <tt class="docutils literal"><span class="pre">foo[bar]</span></tt></font></li>
</ul>
<p><font id="72">Note that “bar” in a template expression like <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">foo.bar</span> <span class="pre">}}</span></tt> will be interpreted as a literal string and not using the value of the variable “bar”, if one exists in the template context.</font></p>
<p><font id="73">The template system uses the first lookup type that works. </font><font id="74">It’s short-circuit logic. </font><font id="75">Here are a few examples:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">Context</span><span class="p">,</span> <span class="n">Template</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">"My name is {{ person.first_name }}."</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">"person"</span><span class="p">:</span> <span class="p">{</span><span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Joe"</span><span class="p">,</span> <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Johnson"</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">Context</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
<span class="go">"My name is Joe."</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">PersonClass</span><span class="p">:</span> <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">PersonClass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">first_name</span> <span class="o">=</span> <span class="s">"Ron"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">last_name</span> <span class="o">=</span> <span class="s">"Nasty"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">Context</span><span class="p">({</span><span class="s">"person"</span><span class="p">:</span> <span class="n">p</span><span class="p">}))</span>
<span class="go">"My name is Ron."</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">"The first stooge in the list is {{ stooges.0 }}."</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">({</span><span class="s">"stooges"</span><span class="p">:</span> <span class="p">[</span><span class="s">"Larry"</span><span class="p">,</span> <span class="s">"Curly"</span><span class="p">,</span> <span class="s">"Moe"</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">"The first stooge in the list is Larry."</span>
</pre></div>
</div>
<p><font id="76">If any part of the variable is callable, the template system will try calling it. </font><font id="77">Example:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">PersonClass2</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">"Samantha"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">"My name is {{ person.name }}."</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">Context</span><span class="p">({</span><span class="s">"person"</span><span class="p">:</span> <span class="n">PersonClass2</span><span class="p">}))</span>
<span class="go">"My name is Samantha."</span>
</pre></div>
</div>
<p><font id="78">Callable variables are slightly more complex than variables which only require straight lookups. </font><font id="79">Here are some things to keep in mind:</font></p>
<ul>
<li><p class="first"><font id="80">If the variable raises an exception when called, the exception will be propagated, unless the exception has an attribute <tt class="docutils literal"><span class="pre">silent_variable_failure</span></tt> whose value is <tt class="docutils literal"><span class="pre">True</span></tt>. </font><font id="81">If the exception <em>does</em> have a <tt class="docutils literal"><span class="pre">silent_variable_failure</span></tt> attribute whose value is <tt class="docutils literal"><span class="pre">True</span></tt>, the variable will render as the value of the engine’s <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt> configuration option (an empty string, by default). </font><font id="82">Example:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">"My name is {{ person.first_name }}."</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">PersonClass3</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">first_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s">"foo"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">PersonClass3</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">Context</span><span class="p">({</span><span class="s">"person"</span><span class="p">:</span> <span class="n">p</span><span class="p">}))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AssertionError</span>: <span class="n">foo</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">SilentAssertionError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">silent_variable_failure</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">PersonClass4</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">first_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">raise</span> <span class="n">SilentAssertionError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">PersonClass4</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">Context</span><span class="p">({</span><span class="s">"person"</span><span class="p">:</span> <span class="n">p</span><span class="p">}))</span>
<span class="go">"My name is ."</span>
</pre></div>
</div>
<p><font id="83">Note that <a class="reference internal" href="../exceptions.html#django.core.exceptions.ObjectDoesNotExist" title="django.core.exceptions.ObjectDoesNotExist"><tt class="xref py py-exc docutils literal"><span class="pre">django.core.exceptions.ObjectDoesNotExist</span></tt></a>, which is the base class for all Django database API <tt class="docutils literal"><span class="pre">DoesNotExist</span></tt> exceptions, has <tt class="docutils literal"><span class="pre">silent_variable_failure</span> <span class="pre">=</span> <span class="pre">True</span></tt>. </font><font id="84">So if you’re using Django templates with Django model objects, any <tt class="docutils literal"><span class="pre">DoesNotExist</span></tt> exception will fail silently.</font></p>
</li>
<li><p class="first"><font id="85">A variable can only be called if it has no required arguments. </font><font id="86">Otherwise, the system will return the value of the engine’s <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt> option.</font></p>
</li>
</ul>
<ul id="alters-data-description">
<li><p class="first"><font id="87">Obviously, there can be side effects when calling some variables, and it’d be either foolish or a security hole to allow the template system to access them.</font></p>
<p><font id="88">A good example is the <a class="reference internal" href="../models/instances.html#django.db.models.Model.delete" title="django.db.models.Model.delete"><tt class="xref py py-meth docutils literal"><span class="pre">delete()</span></tt></a> method on each Django model object. </font><font id="89">The template system shouldn’t be allowed to do something like this:</font></p>
<div class="highlight-python"><div class="highlight"><pre>I will now delete this valuable data. {{ data.delete }}
</pre></div>
</div>
<p><font id="90">To prevent this, set an <tt class="docutils literal"><span class="pre">alters_data</span></tt> attribute on the callable variable. </font><font id="91">The template system won’t call a variable if it has <tt class="docutils literal"><span class="pre">alters_data=True</span></tt> set, and will instead replace the variable with <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt>, unconditionally. </font><font id="92">The dynamically-generated <a class="reference internal" href="../models/instances.html#django.db.models.Model.delete" title="django.db.models.Model.delete"><tt class="xref py py-meth docutils literal"><span class="pre">delete()</span></tt></a> and <a class="reference internal" href="../models/instances.html#django.db.models.Model.save" title="django.db.models.Model.save"><tt class="xref py py-meth docutils literal"><span class="pre">save()</span></tt></a> methods on Django model objects get <tt class="docutils literal"><span class="pre">alters_data=True</span></tt> automatically. </font><font id="93">Example:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">sensitive_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">database_record</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
<span class="n">sensitive_function</span><span class="o">.</span><span class="n">alters_data</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
</li>
<li><p class="first"><font id="94">Occasionally you may want to turn off this feature for other reasons, and tell the template system to leave a variable uncalled no matter what. </font><font id="95">To do so, set a <tt class="docutils literal"><span class="pre">do_not_call_in_templates</span></tt> attribute on the callable with the value <tt class="docutils literal"><span class="pre">True</span></tt>. </font><font id="96">The template system then will act as if your variable is not callable (allowing you to access attributes of the callable, for example).</font></p>
</li>
</ul>
</div>
<div class="section" id="s-how-invalid-variables-are-handled">
<span id="s-invalid-template-variables"></span><span id="how-invalid-variables-are-handled"></span><span id="invalid-template-variables"></span><h3><font id="242">How invalid variables are handled</font><a class="headerlink" href="api.html#how-invalid-variables-are-handled" title="Permalink to this headline">¶</a></h3>
<p><font id="97">Generally, if a variable doesn’t exist, the template system inserts the value of the engine’s <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt> configuration option, which is set to <tt class="docutils literal"><span class="pre">''</span></tt> (the empty string) by default.</font></p>
<p><font id="98">Filters that are applied to an invalid variable will only be applied if <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt> is set to <tt class="docutils literal"><span class="pre">''</span></tt> (the empty string). </font><font id="99">If <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt> is set to any other value, variable filters will be ignored.</font></p>
<p><font id="100">This behavior is slightly different for the <tt class="docutils literal"><span class="pre">if</span></tt>, <tt class="docutils literal"><span class="pre">for</span></tt> and <tt class="docutils literal"><span class="pre">regroup</span></tt> template tags. </font><font id="101">If an invalid variable is provided to one of these template tags, the variable will be interpreted as <tt class="docutils literal"><span class="pre">None</span></tt>. </font><font id="102">Filters are always applied to invalid variables within these template tags.</font></p>
<p><font id="103">If <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt> contains a <tt class="docutils literal"><span class="pre">'%s'</span></tt>, the format marker will be replaced with the name of the invalid variable.</font></p>
<div class="admonition-for-debug-purposes-only admonition">
<p class="first admonition-title"><font id="104">For debug purposes only!</font></p>
<p><font id="105">While <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt> can be a useful debugging tool, it is a bad idea to turn it on as a ‘development default’.</font></p>
<p><font id="106">Many templates, including those in the Admin site, rely upon the silence of the template system when a non-existent variable is encountered. </font><font id="107">If you assign a value other than <tt class="docutils literal"><span class="pre">''</span></tt> to <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt>, you will experience rendering problems with these templates and sites.</font></p>
<p class="last"><font id="108">Generally, <tt class="docutils literal"><span class="pre">string_if_invalid</span></tt> should only be enabled in order to debug a specific template problem, then cleared once debugging is complete.</font></p>
</div>
</div>
<div class="section" id="s-built-in-variables">
<span id="built-in-variables"></span><h3><font id="243">Built-in variables</font><a class="headerlink" href="api.html#built-in-variables" title="Permalink to this headline">¶</a></h3>
<p><font id="109">Every context contains <tt class="docutils literal"><span class="pre">True</span></tt>, <tt class="docutils literal"><span class="pre">False</span></tt> and <tt class="docutils literal"><span class="pre">None</span></tt>. </font><font id="110">As you would expect, these variables resolve to the corresponding Python objects.</font></p>
</div>
<div class="section" id="s-limitations-with-string-literals">
<span id="limitations-with-string-literals"></span><h3><font id="244">Limitations with string literals</font><a class="headerlink" href="api.html#limitations-with-string-literals" title="Permalink to this headline">¶</a></h3>
<p><font id="111">Django’s template language has no way to escape the characters used for its own syntax. </font><font id="112">For example, the <a class="reference internal" href="builtins.html#std:templatetag-templatetag"><tt class="xref std std-ttag docutils literal"><span class="pre">templatetag</span></tt></a> tag is required if you need to output character sequences like <tt class="docutils literal"><span class="pre">{%</span></tt> and <tt class="docutils literal"><span class="pre">%}</span></tt>.</font></p>
<p><font id="332">A similar issue exists if you want to include these sequences in template filter or tag arguments. </font><font id="333">For example, when parsing a block tag, Django’s template parser looks for the first occurrence of <tt class="docutils literal"><span class="pre">%}</span></tt> after a <tt class="docutils literal"><span class="pre">{%</span></tt>. </font><font id="334">This prevents the use of <tt class="docutils literal"><span class="pre">"%}"</span></tt> as a string literal. </font><font id="335">For example, a <tt class="docutils literal"><span class="pre">TemplateSyntaxError</span></tt> will be raised for the following expressions:</font></p>
<div class="highlight-python"><div class="highlight"><pre>{% include "template.html" tvar="Some string literal with %} in it." %}

{% with tvar="Some string literal with %} in it." %}{% endwith %}
</pre></div>
</div>
<p><font id="114">The same issue can be triggered by using a reserved sequence in filter arguments:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{{</span> <span class="n">some</span><span class="o">.</span><span class="n">variable</span><span class="o">|</span><span class="n">default</span><span class="p">:</span><span class="s">"}}"</span> <span class="p">}}</span>
</pre></div>
</div>
<p><font id="115">If you need to use strings with these sequences, store them in template variables or use a custom template tag or filter to workaround the limitation.</font></p>
</div>
</div>
<div class="section" id="s-playing-with-context-objects">
<span id="s-playing-with-context"></span><span id="playing-with-context-objects"></span><span id="playing-with-context"></span><h2><font id="238">Playing with Context objects</font><a class="headerlink" href="api.html#playing-with-context-objects" title="Permalink to this headline">¶</a></h2>
<p><font id="116">Most of the time, you’ll instantiate <a class="reference internal" href="api.html#django.template.Context" title="django.template.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> objects by passing in a fully-populated dictionary to <tt class="docutils literal"><span class="pre">Context()</span></tt>. </font><font id="117">But you can add and delete items from a <tt class="docutils literal"><span class="pre">Context</span></tt> object once it’s been instantiated, too, using standard dictionary syntax:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">Context</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">({</span><span class="s">"foo"</span><span class="p">:</span> <span class="s">"bar"</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'bar'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">'foo'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'newvariable'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'hello'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'newvariable'</span><span class="p">]</span>
<span class="go">'hello'</span>
</pre></div>
</div>
<dl class="method">
<dt id="django.template.Context.get">
<tt class="descclassname">Context.</tt><tt class="descname">get</tt>(<em>key</em>, <em>otherwise=None</em>)<a class="headerlink" href="api.html#django.template.Context.get" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="118">Returns the value for <tt class="docutils literal"><span class="pre">key</span></tt> if <tt class="docutils literal"><span class="pre">key</span></tt> is in the context, else returns <tt class="docutils literal"><span class="pre">otherwise</span></tt>.</font></p>
</dd></dl>
<dl class="method">
<dt id="django.template.Context.pop">
<tt class="descclassname">Context.</tt><tt class="descname">pop</tt>()<a class="headerlink" href="api.html#django.template.Context.pop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="django.template.Context.push">
<tt class="descclassname">Context.</tt><tt class="descname">push</tt>()<a class="headerlink" href="api.html#django.template.Context.push" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="exception">
<dt id="django.template.ContextPopException">
<em class="property">exception </em><tt class="descname">ContextPopException</tt><a class="headerlink" href="api.html#django.template.ContextPopException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<p><font id="119">A <tt class="docutils literal"><span class="pre">Context</span></tt> object is a stack. </font><font id="120">That is, you can <tt class="docutils literal"><span class="pre">push()</span></tt> and <tt class="docutils literal"><span class="pre">pop()</span></tt> it. </font><font id="121">If you <tt class="docutils literal"><span class="pre">pop()</span></tt> too much, it’ll raise <tt class="docutils literal"><span class="pre">django.template.ContextPopException</span></tt>:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'first level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'second level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'second level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">{'foo': 'second level'}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'first level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'overwritten'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'overwritten'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ContextPopException</span>
</pre></div>
</div>
<div class="versionadded">
<span class="title">New in Django 1.7.</span> </div>
<p><font id="122">You can also use <tt class="docutils literal"><span class="pre">push()</span></tt> as a context manager to ensure a matching <tt class="docutils literal"><span class="pre">pop()</span></tt> is called.</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'first level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">c</span><span class="o">.</span><span class="n">push</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'second level'</span>
<span class="gp">... </span>    <span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'second level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'first level'</span>
</pre></div>
</div>
<p><font id="123">All arguments passed to <tt class="docutils literal"><span class="pre">push()</span></tt> will be passed to the <tt class="docutils literal"><span class="pre">dict</span></tt> constructor used to build the new context level.</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'first level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">c</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="n">foo</span><span class="o">=</span><span class="s">'second level'</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'second level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'first level'</span>
</pre></div>
</div>
<dl class="method">
<dt id="django.template.Context.update">
<tt class="descclassname">Context.</tt><tt class="descname">update</tt>(<em>other_dict</em>)<a class="headerlink" href="api.html#django.template.Context.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<p><font id="124">In addition to <tt class="docutils literal"><span class="pre">push()</span></tt> and <tt class="docutils literal"><span class="pre">pop()</span></tt>, the <tt class="docutils literal"><span class="pre">Context</span></tt> object also defines an <tt class="docutils literal"><span class="pre">update()</span></tt> method. </font><font id="125">This works like <tt class="docutils literal"><span class="pre">push()</span></tt> but takes a dictionary as an argument and pushes that dictionary onto the stack instead of an empty one.</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'first level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">'foo'</span><span class="p">:</span> <span class="s">'updated'</span><span class="p">})</span>
<span class="go">{'foo': 'updated'}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'updated'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">{'foo': 'updated'}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span>
<span class="go">'first level'</span>
</pre></div>
</div>
<p><font id="126">Using a <tt class="docutils literal"><span class="pre">Context</span></tt> as a stack comes in handy in <a class="reference internal" href="../../howto/custom-template-tags.html#howto-writing-custom-template-tags"><em>some custom template tags</em></a>.</font></p>
<dl class="method">
<dt id="django.template.Context.flatten">
<tt class="descclassname">Context.</tt><tt class="descname">flatten</tt>()<a class="headerlink" href="api.html#django.template.Context.flatten" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<div class="versionadded">
<span class="title">New in Django 1.7.</span> </div>
<p><font id="127">Using <tt class="docutils literal"><span class="pre">flatten()</span></tt> method you can get whole <tt class="docutils literal"><span class="pre">Context</span></tt> stack as one dictionary including builtin variables.</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'first level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">'bar'</span><span class="p">:</span> <span class="s">'second level'</span><span class="p">})</span>
<span class="go">{'bar': 'second level'}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="go">{'True': True, 'None': None, 'foo': 'first level', 'False': False, 'bar': 'second level'}</span>
</pre></div>
</div>
<p><font id="128">A <tt class="docutils literal"><span class="pre">flatten()</span></tt> method is also internally used to make <tt class="docutils literal"><span class="pre">Context</span></tt> objects comparable.</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span><span class="p">[</span><span class="s">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'first level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span><span class="p">[</span><span class="s">'bar'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'second level'</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c2</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">'bar'</span><span class="p">:</span> <span class="s">'second level'</span><span class="p">,</span> <span class="s">'foo'</span><span class="p">:</span> <span class="s">'first level'</span><span class="p">})</span>
<span class="go">{'foo': 'first level', 'bar': 'second level'}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c1</span> <span class="o">==</span> <span class="n">c2</span>
<span class="go">True</span>
</pre></div>
</div>
<p><font id="129">Result from <tt class="docutils literal"><span class="pre">flatten()</span></tt> can be useful in unit tests to compare <tt class="docutils literal"><span class="pre">Context</span></tt> against <tt class="docutils literal"><span class="pre">dict</span></tt>:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ContextTest</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_against_dictionary</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">c1</span> <span class="o">=</span> <span class="n">Context</span><span class="p">()</span>
        <span class="n">c1</span><span class="p">[</span><span class="s">'update'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'value'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">c1</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="p">{</span>
            <span class="s">'True'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="s">'None'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
            <span class="s">'False'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
            <span class="s">'update'</span><span class="p">:</span> <span class="s">'value'</span><span class="p">,</span>
        <span class="p">})</span>
</pre></div>
</div>
<div class="section" id="s-subclassing-context-requestcontext">
<span id="s-id1"></span><span id="subclassing-context-requestcontext"></span><span id="id1"></span><h3><font id="245">Subclassing Context: RequestContext</font><a class="headerlink" href="api.html#subclassing-context-requestcontext" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="django.template.RequestContext">
<em class="property">class </em><tt class="descname">RequestContext</tt>(<em>request[, dict_][, processors]</em>)<a class="headerlink" href="api.html#django.template.RequestContext" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<p><font id="130">Django comes with a special <tt class="docutils literal"><span class="pre">Context</span></tt> class, <tt class="docutils literal"><span class="pre">django.template.RequestContext</span></tt>, that acts slightly differently from the normal <tt class="docutils literal"><span class="pre">django.template.Context</span></tt>. </font><font id="131">The first difference is that it takes an <a class="reference internal" href="../request-response.html#django.http.HttpRequest" title="django.http.HttpRequest"><tt class="xref py py-class docutils literal"><span class="pre">HttpRequest</span></tt></a> as its first argument. </font><font id="132">For example:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">c</span> <span class="o">=</span> <span class="n">RequestContext</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="p">{</span>
    <span class="s">'foo'</span><span class="p">:</span> <span class="s">'bar'</span><span class="p">,</span>
<span class="p">})</span>
</pre></div>
</div>
<p><font id="133">The second difference is that it automatically populates the context with a few variables, according to the engine’s <tt class="docutils literal"><span class="pre">context_processors</span></tt> configuration option.</font></p>
<p><font id="134">The <tt class="docutils literal"><span class="pre">context_processors</span></tt> option is a list of callables – called <strong>context processors</strong> – that take a request object as their argument and return a dictionary of items to be merged into the context. </font><font id="135">In the default generated settings file, the default template engine contains the following context processors:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span>
    <span class="s">'django.template.context_processors.debug'</span><span class="p">,</span>
    <span class="s">'django.template.context_processors.request'</span><span class="p">,</span>
    <span class="s">'django.contrib.auth.context_processors.auth'</span><span class="p">,</span>
    <span class="s">'django.contrib.messages.context_processors.messages'</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="versionchanged">
<span class="title">Changed in Django 1.8:</span> <p><font id="136">Built-in template context processors were moved from <tt class="docutils literal"><span class="pre">django.core.context_processors</span></tt> to <tt class="docutils literal"><span class="pre">django.template.context_processors</span></tt> in Django 1.8.</font></p>
</div>
<p><font id="137">In addition to these, <a class="reference internal" href="api.html#django.template.RequestContext" title="django.template.RequestContext"><tt class="xref py py-class docutils literal"><span class="pre">RequestContext</span></tt></a> always enables <tt class="docutils literal"><span class="pre">'django.template.context_processors.csrf'</span></tt>. </font><font id="138">This is a security related context processor required by the admin and other contrib apps, and, in case of accidental misconfiguration, it is deliberately hardcoded in and cannot be turned off in the <tt class="docutils literal"><span class="pre">context_processors</span></tt> option.</font></p>
<p><font id="139">Each processor is applied in order. </font><font id="140">That means, if one processor adds a variable to the context and a second processor adds a variable with the same name, the second will override the first. </font><font id="141">The default processors are explained below.</font></p>
<div class="admonition-when-context-processors-are-applied admonition">
<p class="first admonition-title"><font id="142">When context processors are applied</font></p>
<p><font id="143">Context processors are applied on top of context data. </font><font id="144">This means that a context processor may overwrite variables you’ve supplied to your <a class="reference internal" href="api.html#django.template.Context" title="django.template.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> or <a class="reference internal" href="api.html#django.template.RequestContext" title="django.template.RequestContext"><tt class="xref py py-class docutils literal"><span class="pre">RequestContext</span></tt></a>, so take care to avoid variable names that overlap with those supplied by your context processors.</font></p>
<p><font id="145">If you want context data to take priority over context processors, use the following pattern:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">RequestContext</span>

<span class="n">request_context</span> <span class="o">=</span> <span class="n">RequestContext</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="n">request_context</span><span class="o">.</span><span class="n">push</span><span class="p">({</span><span class="s">"my_name"</span><span class="p">:</span> <span class="s">"Adrian"</span><span class="p">})</span>
</pre></div>
</div>
<p class="last"><font id="146">Django does this to allow context data to override context processors in APIs such as <a class="reference internal" href="../../topics/http/shortcuts.html#django.shortcuts.render" title="django.shortcuts.render"><tt class="xref py py-func docutils literal"><span class="pre">render()</span></tt></a> and <a class="reference internal" href="../template-response.html#django.template.response.TemplateResponse" title="django.template.response.TemplateResponse"><tt class="xref py py-class docutils literal"><span class="pre">TemplateResponse</span></tt></a>.</font></p>
</div>
<p><font id="147">Also, you can give <a class="reference internal" href="api.html#django.template.RequestContext" title="django.template.RequestContext"><tt class="xref py py-class docutils literal"><span class="pre">RequestContext</span></tt></a> a list of additional processors, using the optional, third positional argument, <tt class="docutils literal"><span class="pre">processors</span></tt>. </font><font id="148">In this example, the <a class="reference internal" href="api.html#django.template.RequestContext" title="django.template.RequestContext"><tt class="xref py py-class docutils literal"><span class="pre">RequestContext</span></tt></a> instance gets a <tt class="docutils literal"><span class="pre">ip_address</span></tt> variable:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
<span class="kn">from</span> <span class="nn">django.template</span> <span class="kn">import</span> <span class="n">RequestContext</span>

<span class="k">def</span> <span class="nf">ip_address_processor</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s">'ip_address'</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">META</span><span class="p">[</span><span class="s">'REMOTE_ADDR'</span><span class="p">]}</span>

<span class="k">def</span> <span class="nf">some_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c"># ...</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">RequestContext</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="p">{</span>
        <span class="s">'foo'</span><span class="p">:</span> <span class="s">'bar'</span><span class="p">,</span>
    <span class="p">},</span> <span class="p">[</span><span class="n">ip_address_processor</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="s-built-in-template-context-processors">
<span id="built-in-template-context-processors"></span><h3><font id="246">Built-in template context processors</font><a class="headerlink" href="api.html#built-in-template-context-processors" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="s-context-processors">
<span id="s-id2"></span><span id="context-processors"></span><span id="id2"></span><h3><font id="247">Context processors</font><a class="headerlink" href="api.html#context-processors" title="Permalink to this headline">¶</a></h3>
<p><font id="149">Here’s what each of the built-in processors does:</font></p>
<div class="section" id="s-django-contrib-auth-context-processors-auth">
<span id="django-contrib-auth-context-processors-auth"></span><h4><font id="258">django.contrib.auth.context_processors.auth</font><a class="headerlink" href="api.html#django-contrib-auth-context-processors-auth" title="Permalink to this headline">¶</a></h4>
<p><font id="150">If this processor is enabled, every <tt class="docutils literal"><span class="pre">RequestContext</span></tt> will contain these variables:</font></p>
<ul class="simple">
<li><font id="282"><tt class="docutils literal"><span class="pre">user</span></tt> – An <tt class="docutils literal"><span class="pre">auth.</span></tt></font><font id="283">User instance representing the currently logged-in user (or an <tt class="docutils literal"><span class="pre">AnonymousUser</span></tt> instance, if the client isn’t logged in).</font></li>
<li><font id="284"><tt class="docutils literal"><span class="pre">perms</span></tt> – An instance of <tt class="docutils literal"><span class="pre">django.contrib.auth.context_processors.</span></tt></font><font id="285">PermWrapper, representing the permissions that the currently logged-in user has.</font></li>
</ul>
</div>
<div class="section" id="s-django-template-context-processors-debug">
<span id="django-template-context-processors-debug"></span><h4><font id="259">django.template.context_processors.debug</font><a class="headerlink" href="api.html#django-template-context-processors-debug" title="Permalink to this headline">¶</a></h4>
<p><font id="151">If this processor is enabled, every <tt class="docutils literal"><span class="pre">RequestContext</span></tt> will contain these two variables – but only if your <a class="reference internal" href="../settings.html#std:setting-DEBUG"><tt class="xref std std-setting docutils literal"><span class="pre">DEBUG</span></tt></a> setting is set to <tt class="docutils literal"><span class="pre">True</span></tt> and the request’s IP address (<tt class="docutils literal"><span class="pre">request.</span></tt></font><font id="152">META['REMOTE_ADDR']) is in the <a class="reference internal" href="../settings.html#std:setting-INTERNAL_IPS"><tt class="xref std std-setting docutils literal"><span class="pre">INTERNAL_IPS</span></tt></a> setting:</font></p>
<ul class="simple">
<li><font id="286"><tt class="docutils literal"><span class="pre">debug</span></tt> – <tt class="docutils literal"><span class="pre">True</span></tt>. </font><font id="287">You can use this in templates to test whether you’re in <a class="reference internal" href="../settings.html#std:setting-DEBUG"><tt class="xref std std-setting docutils literal"><span class="pre">DEBUG</span></tt></a> mode.</font></li>
<li><font id="288"><tt class="docutils literal"><span class="pre">sql_queries</span></tt> – A list of <tt class="docutils literal"><span class="pre">{'sql':</span> <span class="pre">...,</span> <span class="pre">'time':</span> <span class="pre">...}</span></tt> dictionaries, representing every SQL query that has happened so far during the request and how long it took. </font><font id="289">The list is in order by query and lazily generated on access.</font></li>
</ul>
</div>
<div class="section" id="s-django-template-context-processors-i18n">
<span id="django-template-context-processors-i18n"></span><h4><font id="260">django.template.context_processors.i18n</font><a class="headerlink" href="api.html#django-template-context-processors-i18n" title="Permalink to this headline">¶</a></h4>
<p><font id="153">If this processor is enabled, every <tt class="docutils literal"><span class="pre">RequestContext</span></tt> will contain these two variables:</font></p>
<ul class="simple">
<li><font id="290"><tt class="docutils literal"><span class="pre">LANGUAGES</span></tt> – The value of the <a class="reference internal" href="../settings.html#std:setting-LANGUAGES"><tt class="xref std std-setting docutils literal"><span class="pre">LANGUAGES</span></tt></a> setting.</font></li>
<li><font id="291"><tt class="docutils literal"><span class="pre">LANGUAGE_CODE</span></tt> – <tt class="docutils literal"><span class="pre">request.</span></tt></font><font id="292">LANGUAGE_CODE, if it exists. </font><font id="293">Otherwise, the value of the <a class="reference internal" href="../settings.html#std:setting-LANGUAGE_CODE"><tt class="xref std std-setting docutils literal"><span class="pre">LANGUAGE_CODE</span></tt></a> setting.</font></li>
</ul>
<p><font id="154">See <a class="reference internal" href="../../topics/i18n/index.html"><em>Internationalization and localization</em></a> for more.</font></p>
</div>
<div class="section" id="s-django-template-context-processors-media">
<span id="django-template-context-processors-media"></span><h4><font id="261">django.template.context_processors.media</font><a class="headerlink" href="api.html#django-template-context-processors-media" title="Permalink to this headline">¶</a></h4>
<p><font id="155">If this processor is enabled, every <tt class="docutils literal"><span class="pre">RequestContext</span></tt> will contain a variable <tt class="docutils literal"><span class="pre">MEDIA_URL</span></tt>, providing the value of the <a class="reference internal" href="../settings.html#std:setting-MEDIA_URL"><tt class="xref std std-setting docutils literal"><span class="pre">MEDIA_URL</span></tt></a> setting.</font></p>
</div>
<div class="section" id="s-django-template-context-processors-static">
<span id="django-template-context-processors-static"></span><h4><font id="262">django.template.context_processors.static</font><a class="headerlink" href="api.html#django-template-context-processors-static" title="Permalink to this headline">¶</a></h4>
<dl class="function">
<dt id="django.template.context_processors.static">
<tt class="descname">static</tt>()<a class="reference internal" href="http://python.usyiyi.cn/django/_modules/django/template/context_processors.html#static"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="api.html#django.template.context_processors.static" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<p><font id="156">If this processor is enabled, every <tt class="docutils literal"><span class="pre">RequestContext</span></tt> will contain a variable <tt class="docutils literal"><span class="pre">STATIC_URL</span></tt>, providing the value of the <a class="reference internal" href="../settings.html#std:setting-STATIC_URL"><tt class="xref std std-setting docutils literal"><span class="pre">STATIC_URL</span></tt></a> setting.</font></p>
</div>
<div class="section" id="s-django-template-context-processors-csrf">
<span id="django-template-context-processors-csrf"></span><h4><font id="263">django.template.context_processors.csrf</font><a class="headerlink" href="api.html#django-template-context-processors-csrf" title="Permalink to this headline">¶</a></h4>
<p><font id="157">This processor adds a token that is needed by the <a class="reference internal" href="builtins.html#std:templatetag-csrf_token"><tt class="xref std std-ttag docutils literal"><span class="pre">csrf_token</span></tt></a> template tag for protection against <a class="reference internal" href="../csrf.html"><em>Cross Site Request Forgeries</em></a>.</font></p>
</div>
<div class="section" id="s-django-template-context-processors-request">
<span id="django-template-context-processors-request"></span><h4><font id="264">django.template.context_processors.request</font><a class="headerlink" href="api.html#django-template-context-processors-request" title="Permalink to this headline">¶</a></h4>
<p><font id="158">If this processor is enabled, every <tt class="docutils literal"><span class="pre">RequestContext</span></tt> will contain a variable <tt class="docutils literal"><span class="pre">request</span></tt>, which is the current <a class="reference internal" href="../request-response.html#django.http.HttpRequest" title="django.http.HttpRequest"><tt class="xref py py-class docutils literal"><span class="pre">HttpRequest</span></tt></a>.</font></p>
</div>
<div class="section" id="s-django-contrib-messages-context-processors-messages">
<span id="django-contrib-messages-context-processors-messages"></span><h4><font id="265">django.contrib.messages.context_processors.messages</font><a class="headerlink" href="api.html#django-contrib-messages-context-processors-messages" title="Permalink to this headline">¶</a></h4>
<p><font id="159">If this processor is enabled, every <tt class="docutils literal"><span class="pre">RequestContext</span></tt> will contain these two variables:</font></p>
<ul class="simple">
<li><font id="294"><tt class="docutils literal"><span class="pre">messages</span></tt> – A list of messages (as strings) that have been set via the <a class="reference internal" href="../contrib/messages.html"><em>messages framework</em></a>.</font></li>
<li><font id="295"><tt class="docutils literal"><span class="pre">DEFAULT_MESSAGE_LEVELS</span></tt> – A mapping of the message level names to <a class="reference internal" href="../contrib/messages.html#message-level-constants"><em>their numeric value</em></a>.</font></li>
</ul>
<div class="versionchanged">
<span class="title">Changed in Django 1.7:</span> <p><font id="160">The <tt class="docutils literal"><span class="pre">DEFAULT_MESSAGE_LEVELS</span></tt> variable was added.</font></p>
</div>
</div>
</div>
<div class="section" id="s-writing-your-own-context-processors">
<span id="writing-your-own-context-processors"></span><h3><font id="248">Writing your own context processors</font><a class="headerlink" href="api.html#writing-your-own-context-processors" title="Permalink to this headline">¶</a></h3>
<p><font id="161">A context processor has a very simple interface: It’s just a Python function that takes one argument, an <a class="reference internal" href="../request-response.html#django.http.HttpRequest" title="django.http.HttpRequest"><tt class="xref py py-class docutils literal"><span class="pre">HttpRequest</span></tt></a> object, and returns a dictionary that gets added to the template context. </font><font id="162">Each context processor <em>must</em> return a dictionary.</font></p>
<p><font id="163">Custom context processors can live anywhere in your code base. </font><font id="164">All Django cares about is that your custom context processors are pointed to by the <tt class="docutils literal"><span class="pre">'context_processors'</span></tt> option in your <a class="reference internal" href="../settings.html#std:setting-TEMPLATES"><tt class="xref std std-setting docutils literal"><span class="pre">TEMPLATES</span></tt></a> setting — or the <tt class="docutils literal"><span class="pre">context_processors</span></tt> argument of <a class="reference internal" href="api.html#django.template.Engine" title="django.template.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a> if you’re using it directly.</font></p>
</div>
</div>
<div class="section" id="s-loading-templates">
<span id="loading-templates"></span><h2><font id="239">Loading templates</font><a class="headerlink" href="api.html#loading-templates" title="Permalink to this headline">¶</a></h2>
<p><font id="165">Generally, you’ll store templates in files on your filesystem rather than using the low-level <a class="reference internal" href="api.html#django.template.Template" title="django.template.Template"><tt class="xref py py-class docutils literal"><span class="pre">Template</span></tt></a> API yourself. </font><font id="166">Save templates in a directory specified as a <strong>template directory</strong>.</font></p>
<p><font id="167">Django searches for template directories in a number of places, depending on your template loading settings (see “Loader types” below), but the most basic way of specifying template directories is by using the <a class="reference internal" href="../settings.html#std:setting-TEMPLATES-DIRS"><tt class="xref std std-setting docutils literal"><span class="pre">DIRS</span></tt></a> option.</font></p>
<div class="section" id="s-the-dirs-option">
<span id="the-dirs-option"></span><h3><font id="249">The </font><a class="reference internal" href="../settings.html#std:setting-TEMPLATES-DIRS"><tt class="xref std std-setting docutils literal"><span class="pre">DIRS</span></tt></a></h3>
<div class="versionchanged">
<span class="title">Changed in Django 1.8:</span> <p><font id="168">This value used to be defined by the <tt class="docutils literal"><span class="pre">TEMPLATE_DIRS</span></tt> setting.</font></p>
</div>
<p><font id="169">Tell Django what your template directories are by using the <a class="reference internal" href="../settings.html#std:setting-TEMPLATES-DIRS"><tt class="xref std std-setting docutils literal"><span class="pre">DIRS</span></tt></a> option in the <a class="reference internal" href="../settings.html#std:setting-TEMPLATES"><tt class="xref std std-setting docutils literal"><span class="pre">TEMPLATES</span></tt></a> setting in your settings file — or the <tt class="docutils literal"><span class="pre">dirs</span></tt> argument of <a class="reference internal" href="api.html#django.template.Engine" title="django.template.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a>. </font><font id="170">This should be set to a list of strings that contain full paths to your template directories:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s">'BACKEND'</span><span class="p">:</span> <span class="s">'django.template.backends.django.DjangoTemplates'</span><span class="p">,</span>
        <span class="s">'DIRS'</span><span class="p">:</span> <span class="p">[</span>
            <span class="s">'/home/html/templates/lawrence.com'</span><span class="p">,</span>
            <span class="s">'/home/html/templates/default'</span><span class="p">,</span>
        <span class="p">],</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p><font id="171">Your templates can go anywhere you want, as long as the directories and templates are readable by the Web server. </font><font id="172">They can have any extension you want, such as <tt class="docutils literal"><span class="pre">.html</span></tt> or <tt class="docutils literal"><span class="pre">.txt</span></tt>, or they can have no extension at all.</font></p>
<p><font id="173">Note that these paths should use Unix-style forward slashes, even on Windows.</font></p>
</div>
<div class="section" id="s-loader-types">
<span id="s-template-loaders"></span><span id="loader-types"></span><span id="template-loaders"></span><h3><font id="250">Loader types</font><a class="headerlink" href="api.html#loader-types" title="Permalink to this headline">¶</a></h3>
<p><font id="174">By default, Django uses a filesystem-based template loader, but Django comes with a few other template loaders, which know how to load templates from other sources.</font></p>
<p><font id="175">Some of these other loaders are disabled by default, but you can activate them by adding a <tt class="docutils literal"><span class="pre">'loaders'</span></tt> option to your <tt class="docutils literal"><span class="pre">DjangoTemplates</span></tt> backend in the <a class="reference internal" href="../settings.html#std:setting-TEMPLATES"><tt class="xref std std-setting docutils literal"><span class="pre">TEMPLATES</span></tt></a> setting or passing a <tt class="docutils literal"><span class="pre">loaders</span></tt> argument to <a class="reference internal" href="api.html#django.template.Engine" title="django.template.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a>. </font><font id="176"><tt class="docutils literal"><span class="pre">loaders</span></tt> should be a list of strings or tuples, where each represents a template loader class. </font><font id="177">Here are the template loaders that come with Django:</font></p>
<p><font id="178"><tt class="docutils literal"><span class="pre">django.template.loaders.filesystem.Loader</span></tt></font></p>
<dl class="class">
<dt id="django.template.loaders.filesystem.Loader">
<em class="property">class </em><tt class="descclassname">filesystem.</tt><tt class="descname">Loader</tt><a class="headerlink" href="api.html#django.template.loaders.filesystem.Loader" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="179">Loads templates from the filesystem, according to <a class="reference internal" href="../settings.html#std:setting-TEMPLATES-DIRS"><tt class="xref std std-setting docutils literal"><span class="pre">DIRS</span></tt></a>.</font></p>
<p><font id="180">This loader is enabled by default. </font><font id="181">However it won’t find any templates until you set <a class="reference internal" href="../settings.html#std:setting-TEMPLATES-DIRS"><tt class="xref std std-setting docutils literal"><span class="pre">DIRS</span></tt></a> to a non-empty list:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s">'BACKEND'</span><span class="p">:</span> <span class="s">'django.template.backends.django.DjangoTemplates'</span><span class="p">,</span>
    <span class="s">'DIRS'</span><span class="p">:</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s">'templates'</span><span class="p">)],</span>
<span class="p">}]</span>
</pre></div>
</div>
</dd></dl>
<p><font id="182"><tt class="docutils literal"><span class="pre">django.template.loaders.app_directories.</span></tt></font><font id="183">Loader</font></p>
<dl class="class">
<dt id="django.template.loaders.app_directories.Loader">
<em class="property">class </em><tt class="descclassname">app_directories.</tt><tt class="descname">Loader</tt><a class="headerlink" href="api.html#django.template.loaders.app_directories.Loader" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="184">Loads templates from Django apps on the filesystem. </font><font id="185">For each app in <a class="reference internal" href="../settings.html#std:setting-INSTALLED_APPS"><tt class="xref std std-setting docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a>, the loader looks for a <tt class="docutils literal"><span class="pre">templates</span></tt> subdirectory. </font><font id="186">If the directory exists, Django looks for templates in there.</font></p>
<p><font id="187">This means you can store templates with your individual apps. </font><font id="188">This also makes it easy to distribute Django apps with default templates.</font></p>
<p><font id="189">For example, for this setting:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span><span class="s">'myproject.polls'</span><span class="p">,</span> <span class="s">'myproject.music'</span><span class="p">)</span>
</pre></div>
</div>
<p><font id="190">...then <tt class="docutils literal"><span class="pre">get_template('foo.html')</span></tt> will look for <tt class="docutils literal"><span class="pre">foo.html</span></tt> in these directories, in this order:</font></p>
<ul class="simple">
<li><font id="296"><tt class="docutils literal"><span class="pre">/path/to/myproject/polls/templates/</span></tt></font></li>
<li><font id="297"><tt class="docutils literal"><span class="pre">/path/to/myproject/music/templates/</span></tt></font></li>
</ul>
<p><font id="191">... and will use the one it finds first.</font></p>
<p><font id="192">The order of <a class="reference internal" href="../settings.html#std:setting-INSTALLED_APPS"><tt class="xref std std-setting docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a> is significant! </font><font id="193">For example, if you want to customize the Django admin, you might choose to override the standard <tt class="docutils literal"><span class="pre">admin/base_site.html</span></tt> template, from <tt class="docutils literal"><span class="pre">django.contrib.admin</span></tt>, with your own <tt class="docutils literal"><span class="pre">admin/base_site.html</span></tt> in <tt class="docutils literal"><span class="pre">myproject.polls</span></tt>. </font><font id="194">You must then make sure that your <tt class="docutils literal"><span class="pre">myproject.polls</span></tt> comes <em>before</em> <tt class="docutils literal"><span class="pre">django.contrib.admin</span></tt> in <a class="reference internal" href="../settings.html#std:setting-INSTALLED_APPS"><tt class="xref std std-setting docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a>, otherwise <tt class="docutils literal"><span class="pre">django.contrib.admin</span></tt>’s will be loaded first and yours will be ignored.</font></p>
<p><font id="195">Note that the loader performs an optimization when it first runs: it caches a list of which <a class="reference internal" href="../settings.html#std:setting-INSTALLED_APPS"><tt class="xref std std-setting docutils literal"><span class="pre">INSTALLED_APPS</span></tt></a> packages have a <tt class="docutils literal"><span class="pre">templates</span></tt> subdirectory.</font></p>
<p><font id="196">You can enable this loader simply by setting <a class="reference internal" href="../settings.html#std:setting-TEMPLATES-APP_DIRS"><tt class="xref std std-setting docutils literal"><span class="pre">APP_DIRS</span></tt></a> to <tt class="docutils literal"><span class="pre">True</span></tt>:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s">'BACKEND'</span><span class="p">:</span> <span class="s">'django.template.backends.django.DjangoTemplates'</span><span class="p">,</span>
    <span class="s">'APP_DIRS'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
<span class="p">}]</span>
</pre></div>
</div>
</dd></dl>
<p><font id="197"><tt class="docutils literal"><span class="pre">django.template.loaders.eggs.Loader</span></tt></font></p>
<dl class="class">
<dt id="django.template.loaders.eggs.Loader">
<em class="property">class </em><tt class="descclassname">eggs.</tt><tt class="descname">Loader</tt><a class="headerlink" href="api.html#django.template.loaders.eggs.Loader" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="198">Just like <tt class="docutils literal"><span class="pre">app_directories</span></tt> above, but it loads templates from Python eggs rather than from the filesystem.</font></p>
<p><font id="199">This loader is disabled by default.</font></p>
</dd></dl>
<p><font id="200"><tt class="docutils literal"><span class="pre">django.template.loaders.cached.Loader</span></tt></font></p>
<dl class="class">
<dt id="django.template.loaders.cached.Loader">
<em class="property">class </em><tt class="descclassname">cached.</tt><tt class="descname">Loader</tt><a class="headerlink" href="api.html#django.template.loaders.cached.Loader" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="201">By default, the templating system will read and compile your templates every time they need to be rendered. </font><font id="202">While the Django templating system is quite fast, the overhead from reading and compiling templates can add up.</font></p>
<p><font id="203">The cached template loader is a class-based loader that you configure with a list of other loaders that it should wrap. </font><font id="204">The wrapped loaders are used to locate unknown templates when they are first encountered. </font><font id="205">The cached loader then stores the compiled <tt class="docutils literal"><span class="pre">Template</span></tt> in memory. </font><font id="206">The cached <tt class="docutils literal"><span class="pre">Template</span></tt> instance is returned for subsequent requests to load the same template.</font></p>
<p><font id="207">For example, to enable template caching with the <tt class="docutils literal"><span class="pre">filesystem</span></tt> and <tt class="docutils literal"><span class="pre">app_directories</span></tt> template loaders you might use the following settings:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s">'BACKEND'</span><span class="p">:</span> <span class="s">'django.template.backends.django.DjangoTemplates'</span><span class="p">,</span>
    <span class="s">'DIRS'</span><span class="p">:</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s">'templates'</span><span class="p">)],</span>
    <span class="s">'OPTIONS'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'loaders'</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">'django.template.loaders.cached.Loader'</span><span class="p">,</span> <span class="p">[</span>
                <span class="s">'django.template.loaders.filesystem.Loader'</span><span class="p">,</span>
                <span class="s">'django.template.loaders.app_directories.Loader'</span><span class="p">,</span>
            <span class="p">]),</span>
        <span class="p">],</span>
    <span class="p">},</span>
<span class="p">}]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title"><font id="208">Note</font></p>
<p class="last"><font id="209">All of the built-in Django template tags are safe to use with the cached loader, but if you’re using custom template tags that come from third party packages, or that you wrote yourself, you should ensure that the <tt class="docutils literal"><span class="pre">Node</span></tt> implementation for each tag is thread-safe. </font><font id="210">For more information, see <a class="reference internal" href="../../howto/custom-template-tags.html#template-tag-thread-safety"><em>template tag thread safety considerations</em></a>.</font></p>
</div>
<p><font id="211">This loader is disabled by default.</font></p>
</dd></dl>
<p><font id="212"><tt class="docutils literal"><span class="pre">django.template.loaders.locmem.Loader</span></tt></font></p>
<div class="versionadded">
<span class="title">New in Django 1.8.</span> </div>
<dl class="class">
<dt id="django.template.loaders.locmem.Loader">
<em class="property">class </em><tt class="descclassname">locmem.</tt><tt class="descname">Loader</tt><a class="headerlink" href="api.html#django.template.loaders.locmem.Loader" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="213">Loads templates from a Python dictionary. </font><font id="214">This is useful for testing.</font></p>
<p><font id="215">This loader takes a dictionary of templates as its first argument:</font></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s">'BACKEND'</span><span class="p">:</span> <span class="s">'django.template.backends.django.DjangoTemplates'</span><span class="p">,</span>
    <span class="s">'OPTIONS'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'loaders'</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">(</span><span class="s">'django.template.loaders.locmem.Loader'</span><span class="p">,</span> <span class="p">{</span>
                <span class="s">'index.html'</span><span class="p">:</span> <span class="s">'content here'</span><span class="p">,</span>
            <span class="p">}),</span>
        <span class="p">],</span>
    <span class="p">},</span>
<span class="p">}]</span>
</pre></div>
</div>
<p><font id="216">This loader is disabled by default.</font></p>
</dd></dl>
<p><font id="217">Django uses the template loaders in order according to the <tt class="docutils literal"><span class="pre">'loaders'</span></tt> option. </font><font id="218">It uses each loader until a loader finds a match.</font></p>
</div>
<div class="section" id="s-custom-loaders">
<span id="s-custom-template-loaders"></span><span id="custom-loaders"></span><span id="custom-template-loaders"></span><h3><font id="251">Custom loaders</font><a class="headerlink" href="api.html#custom-loaders" title="Permalink to this headline">¶</a></h3>
<p><font id="219">Custom <tt class="docutils literal"><span class="pre">Loader</span></tt> classes should inherit from <tt class="docutils literal"><span class="pre">django.template.loaders.base.Loader</span></tt> and override the <tt class="docutils literal"><span class="pre">load_template_source()</span></tt> method, which takes a <tt class="docutils literal"><span class="pre">template_name</span></tt> argument, loads the template from disk (or elsewhere), and returns a tuple: <tt class="docutils literal"><span class="pre">(template_string,</span> <span class="pre">template_origin)</span></tt>.</font></p>
<div class="versionchanged">
<span class="title">Changed in Django 1.8:</span> <p><font id="220"><tt class="docutils literal"><span class="pre">django.template.loaders.base.Loader</span></tt> used to be defined at <tt class="docutils literal"><span class="pre">django.template.loader.BaseLoader</span></tt>.</font></p>
</div>
<p><font id="221">The <tt class="docutils literal"><span class="pre">load_template()</span></tt> method of the <tt class="docutils literal"><span class="pre">Loader</span></tt> class retrieves the template string by calling <tt class="docutils literal"><span class="pre">load_template_source()</span></tt>, instantiates a <tt class="docutils literal"><span class="pre">Template</span></tt> from the template source, and returns a tuple: <tt class="docutils literal"><span class="pre">(template,</span> <span class="pre">template_origin)</span></tt>.</font></p>
</div>
</div>
<div class="section" id="s-template-origin">
<span id="template-origin"></span><h2><font id="240">Template origin</font><a class="headerlink" href="api.html#template-origin" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<span class="title">New in Django 1.7.</span> </div>
<p><font id="222">When an <a class="reference internal" href="api.html#django.template.Engine" title="django.template.Engine"><tt class="xref py py-class docutils literal"><span class="pre">Engine</span></tt></a> is initialized with <tt class="docutils literal"><span class="pre">debug=True</span></tt>, its templates have an <tt class="docutils literal"><span class="pre">origin</span></tt> attribute depending on the source they are loaded from. </font><font id="223">For engines initialized by Django, <tt class="docutils literal"><span class="pre">debug</span></tt> defaults to the value of <a class="reference internal" href="../settings.html#std:setting-DEBUG"><tt class="xref std std-setting docutils literal"><span class="pre">DEBUG</span></tt></a>.</font></p>
<dl class="class">
<dt id="django.template.loader.LoaderOrigin">
<em class="property">class </em><tt class="descclassname">loader.</tt><tt class="descname">LoaderOrigin</tt><a class="headerlink" href="api.html#django.template.loader.LoaderOrigin" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="224">Templates created from a template loader will use the <tt class="docutils literal"><span class="pre">django.template.loader.LoaderOrigin</span></tt> class.</font></p>
<dl class="attribute">
<dt id="django.template.loader.LoaderOrigin.name">
<tt class="descname">name</tt><a class="headerlink" href="api.html#django.template.loader.LoaderOrigin.name" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="225">The path to the template as returned by the template loader. </font><font id="226">For loaders that read from the file system, this is the full path to the template.</font></p>
</dd></dl>
<dl class="attribute">
<dt id="django.template.loader.LoaderOrigin.loadname">
<tt class="descname">loadname</tt><a class="headerlink" href="api.html#django.template.loader.LoaderOrigin.loadname" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="227">The relative path to the template as passed into the template loader.</font></p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="django.template.StringOrigin">
<em class="property">class </em><tt class="descname">StringOrigin</tt><a class="headerlink" href="api.html#django.template.StringOrigin" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="228">Templates created from a <tt class="docutils literal"><span class="pre">Template</span></tt> class will use the <tt class="docutils literal"><span class="pre">django.template.StringOrigin</span></tt> class.</font></p>
<dl class="attribute">
<dt id="django.template.StringOrigin.source">
<tt class="descname">source</tt><a class="headerlink" href="api.html#django.template.StringOrigin.source" title="Permalink to this definition">¶</a></dt>
<dd><p><font id="229">The string used to create the template.</font></p>
</dd></dl>
</dd></dl>
</div>
</div>
</div>
</div>
</div>
<div class="yui-b" id="sidebar">
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<h3><font id="252">Table Of Contents</font></h3>
<ul>
<li><a class="reference internal" href="api.html#"><font id="298">The Django template language: for Python programmers</font></a><ul>
<li><a class="reference internal" href="api.html#overview"><font id="299">Overview</font></a></li>
<li><a class="reference internal" href="api.html#configuring-an-engine"><font id="300">Configuring an engine</font></a></li>
<li><a class="reference internal" href="api.html#loading-a-template"><font id="301">Loading a template</font></a></li>
<li><a class="reference internal" href="api.html#rendering-a-context"><font id="302">Rendering a context</font></a><ul>
<li><a class="reference internal" href="api.html#variables-and-lookups"><font id="303">Variables and lookups</font></a></li>
<li><a class="reference internal" href="api.html#how-invalid-variables-are-handled"><font id="304">How invalid variables are handled</font></a></li>
<li><a class="reference internal" href="api.html#built-in-variables"><font id="305">Built-in variables</font></a></li>
<li><a class="reference internal" href="api.html#limitations-with-string-literals"><font id="306">Limitations with string literals</font></a></li>
</ul>
</li>
<li><a class="reference internal" href="api.html#playing-with-context-objects"><font id="307">Playing with Context objects</font></a><ul>
<li><a class="reference internal" href="api.html#subclassing-context-requestcontext"><font id="308">Subclassing Context: RequestContext</font></a></li>
<li><a class="reference internal" href="api.html#built-in-template-context-processors"><font id="309">Built-in template context processors</font></a></li>
<li><a class="reference internal" href="api.html#context-processors"><font id="310">Context processors</font></a><ul>
<li><a class="reference internal" href="api.html#django-contrib-auth-context-processors-auth"><font id="311">django.contrib.auth.context_processors.auth</font></a></li>
<li><a class="reference internal" href="api.html#django-template-context-processors-debug"><font id="312">django.template.context_processors.debug</font></a></li>
<li><a class="reference internal" href="api.html#django-template-context-processors-i18n"><font id="313">django.template.context_processors.i18n</font></a></li>
<li><a class="reference internal" href="api.html#django-template-context-processors-media"><font id="314">django.template.context_processors.media</font></a></li>
<li><a class="reference internal" href="api.html#django-template-context-processors-static"><font id="315">django.template.context_processors.static</font></a></li>
<li><a class="reference internal" href="api.html#django-template-context-processors-csrf"><font id="316">django.template.context_processors.csrf</font></a></li>
<li><a class="reference internal" href="api.html#django-template-context-processors-request"><font id="317">django.template.context_processors.request</font></a></li>
<li><a class="reference internal" href="api.html#django-contrib-messages-context-processors-messages"><font id="318">django.contrib.messages.context_processors.messages</font></a></li>
</ul>
</li>
<li><a class="reference internal" href="api.html#writing-your-own-context-processors"><font id="319">Writing your own context processors</font></a></li>
</ul>
</li>
<li><a class="reference internal" href="api.html#loading-templates"><font id="320">Loading templates</font></a><ul>
<li><a class="reference internal" href="api.html#the-dirs-option"><font id="321">None</font></a></li>
<li><a class="reference internal" href="api.html#loader-types"><font id="322">Loader types</font></a></li>
<li><a class="reference internal" href="api.html#custom-loaders"><font id="323">Custom loaders</font></a></li>
</ul>
</li>
<li><a class="reference internal" href="api.html#template-origin"><font id="324">Template origin</font></a></li>
</ul>
</li>
</ul>
<h3><font id="253">Browse</font></h3>
<ul>
<li><font id="325">Prev: <a href="builtins.html">Built-in template tags and filters</a></font></li>
<li><font id="326">Next: <a href="upgrading.html">Upgrading templates to Django 1.8</a></font></li>
</ul>
<h3><font id="254">You are here:</font></h3>
<ul>
<li>
<a href="../../index.html"><font id="327">Django 1.8.2.dev20150513143415 documentation</font></a>
<ul><li><a href="../index.html"><font id="328">API Reference</font></a>
<ul><li><a href="index.html"><font id="329">Templates</font></a>
<ul><li><font id="330">The Django template language: for Python programmers</font></li></ul>
</li></ul></li></ul>
</li>
</ul>
<h3><font id="255">This Page</font></h3>
<ul class="this-page-menu">
<li><a href="http://python.usyiyi.cn/django/_sources/ref/templates/api.txt" rel="nofollow"><font id="331">Show Source</font></a></li>
</ul>
<div id="searchbox" style="display: none">
<h3><font id="256">Quick search</font></h3>
<form action="http://python.usyiyi.cn/django/search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="Go"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%"><font id="230"> Enter search terms or a module, class or function name. </font></p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<h3><font id="257">Last update:</font></h3>
<p class="topless"><font id="231">May 13, 2015</font></p>
</div>
</div>
<div id="ft">
<div class="nav">
    « <a href="builtins.html" title="Built-in template tags and filters">previous</a>
     |
    <a accesskey="U" href="../index.html" title="API Reference">up</a>
   |
    <a href="upgrading.html" title="Upgrading templates to Django 1.8">next</a> »</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div id="disqus_thread"></div><br>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'djangocn'; // required: replace example with your forum shortname
    var disqus_identifier = '/django/ref/templates/api.html';
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a class="dsq-brlink" href="http://disqus.com">comments powered by <span class="logo-disqus">Disqus</span></a>
<link href="http://python.usyiyi.cn/django/_static/ms_translator.css" rel="stylesheet" type="text/css"/>
<script src="http://python.usyiyi.cn/django/_static/ms_translator.js" type="text/javascript"></script>
<script src="http://python.usyiyi.cn/django/_static/jquery-ui-1.9.2.custom.min.js" type="text/javascript"></script>
<div id="MicrosoftTranslator" style="display:none; position: absolute; z-index: 2147483647; margin: 0px; border: 2px solid rgb(210, 210, 210); padding: 0px; color: rgb(0, 0, 0); background-color: rgb(230, 230, 230); font-family: Arial,Helvetica,Sans-Serif; font-style: normal; font-variant: normal; font-weight: normal; font-size: 12px; line-height: normal; direction: ltr; text-align: left; left: 274px; top: 2048.03px; min-width: 400px;">
    <div id="MSTCClose" style="float: right;">
      <a style="display: inline-block; cursor: pointer; text-decoration: none; vertical-align: top; border: 0px none; padding: 4px;">
        <img src="http://python.usyiyi.cn/django/_static/tooltip_close.gif">
      </a>
    </div>
    
    <div id="MSTCPopDown" style="float: right;" style="display: none;">
      <a style="display: inline-block; cursor: pointer; text-decoration: none; vertical-align: top; border: 0px none; padding: 4px;">
        <img src="http://python.usyiyi.cn/django/_static/popdown.gif">
      </a>
    </div>
    <div id="MSTCPopUP" style="float: right;">
      <a style="display: inline-block; cursor: pointer; text-decoration: none; vertical-align: top; border: 0px none; padding: 4px;">
        <img src="http://python.usyiyi.cn/django/_static/popup.gif">
      </a>
    </div>
    
    <div id="MSTCTitle" style="margin: 4px 4px 8px; font-weight: bold;">原文
    </div>
    
    <div style="direction: ltr; text-align: left;">
      <span id="MSTCOrigion" style="display: inline-block; margin: 0px 4px 4px;"> </span>
    </div>
    
    <div id="MicrosoftTranslatorCommunity" class="MSTCltr">
      <div id="MSTCContent">
        <a id="MSTCExpandLink">
          <span id="MSTCImprove">改进翻译</span>
          <span id="MSTCSuggest">最小化</span>
          <img src="http://python.usyiyi.cn/django/_static/ctftoggledown.gif" id="MSTCToggleDown">
          <img src="http://python.usyiyi.cn/django/_static/ctftoggleup.gif" id="MSTCToggleUp">
        </a>
        <div id="MSTCRootPanel">
          <span id="MSTCLoading" style="display: none;">正在加载...</span>
          <div style="display: none;" id="MSTCTransPanelError">
            <div class="MSTCTableRow">
              <div class="MSTCTransPanelExc MSTCTableCell">
                <img style="border-width:0px;" src="http://python.usyiyi.cn/django/_static/error_exclamation.gif" id="ExclamationImage">
              </div>
              <div class="MSTCTableCell">
                <span id="MSTCTransPanelErrorMsg"></span>
              </div>
            </div>
            <div class="MSTCTableRow">
              <div class="MSTCTableCell"></div>
              <div class="MSTCTableCell MSTCFlipHoriz">
                <input type="image" style="border-width:0px;" src="http://python.usyiyi.cn/django/_static/error_OK.gif" class="MSTCErrorButtons" id="MSTCOKImgBtn" name="MSTCOKImgBtn">
              </div>
            </div>
          </div>
          
          <div id="MSTCTransPanel">
          </div>
          
          <div id="MSTCPrevNextPanel">
            <a id="MSTCPrevLink" style='border-right-width: 1px;border-right-style: solid;padding-right: 5px;'>
              <span>上一页</span>
            </a>
            <a style='color: black; border-right-width: 1px;border-right-style: solid;padding-right: 5px;'>
              <span>第</span>
              <span id="MSTCPage"></span>
              <span>页</span>
            </a>
            <a id="MSTCNextLink" style='padding-left: 5px;'>
              <span>下一页</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

</body>
</html>